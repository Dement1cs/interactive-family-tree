{% extends "base.html" %}

{% block title %}Add relation for {{ person["first_name"] }}{% endblock %}

{% block content %}
<h2>Add relation for {{ person["first_name"] }} {{ person["last_name"] or "" }}</h2>

<form action="{{ url_for('add_relation', person_id=person['id']) }}" method="post">
    <div>
        <label for="relation_type">Relation type</label><br>
        <select id="relation_type" name="relation_type" required>
            <option value="">-- choose --</option>
            <option value="parent">Parent</option>
            <option value="child">Child</option>
            <option value="spouse">Spouse</option>
        </select>
    </div>

    <div>
        <label for="relative_id">Relative</label><br>
        <select id="relative_id" name="relative_id" required>
            <option value="">-- choose person --</option>
            {% for p in people %}
                {% if p["id"] != person["id"] %}
                    <option value="{{ p['id'] }}">
                        {{ p["first_name"] }} {{ p["last_name"] or "" }}
                    </option>
                {% endif %}
            {% endfor %}
        </select>
    </div>

    <button type="submit">Save relation</button>
</form>

<p><a href="{{ url_for('person_detail', person_id=person['id']) }}">‚Üê Back to profile</a></p>
{% endblock %}
